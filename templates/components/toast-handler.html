<!-- templates/components/toast-handler.html -->
<!-- Sistema automático de exibição de toasts -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Mensagem de sucesso
    {% if sucesso %}
    window.showSuccess(`{{ sucesso|e }}`);
    {% endif %}

    // Mensagem de erro
    {% if erro %}
    window.showError(`{{ erro|e }}`);
    {% endif %}

    // Mensagem de aviso
    {% if warning %}
    window.showWarning(`{{ warning|e }}`);
    {% endif %}

    // Mensagem de informação
    {% if info %}
    window.showInfo(`{{ info|e }}`);
    {% endif %}

    // Múltiplas mensagens (array)
    {% if messages %}
    {% for message in messages %}
    window.showToast(`{{ message.text|e }}`, `{{ message.type|default("info") }}`, {{ message.duration|default(5000) }});
    {% endfor %}
    {% endif %}

    // Mensagens flash (de redirects)
    {% if flash_messages %}
    {% for flash_message in flash_messages %}
    window.showToast(`{{ flash_message.text|e }}`, `{{ flash_message.type|default("info") }}`, {{ flash_message.duration|default(5000) }});
    {% endfor %}
    {% endif %}
});
</script>